<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Nahuel Electrohogar | Tienda de ElectrodomÃ©sticos</title>

  <meta name="description" content="ElectrodomÃ©sticos con envÃ­o a todo el paÃ­s. Heladeras, lavarropas, TV, cocinas y mÃ¡s.">
  <meta property="og:title" content="Nahuel Electrohogar">
  <meta property="og:description" content="Ofertas, cuotas y envÃ­o en Argentina.">
  <meta property="og:type" content="website">

  <link rel="stylesheet" href="style.css?v=11" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
</head>
<body>
  <!-- Top bar -->
  <div class="topbar">
    <div class="container topbar__inner">
      <span>EnvÃ­os a todo el paÃ­s Â· 3 y 6 cuotas sin interÃ©s</span>
      <a href="#contacto">Ayuda</a>
    </div>
  </div>

  <!-- Navbar -->
  <header class="nav">
    <div class="container nav__inner">
      <a href="#" class="logo">Nahuel<span>Electro</span></a>
      <div class="searchbox">
        <input id="searchInput" type="search" placeholder="Buscar: heladera, TV, lavarropas..." />
        <button id="searchBtn">Buscar</button>
      </div>
      <button id="openCart" class="cartbtn" aria-label="Abrir carrito">ðŸ›’<span id="cartCount" class="badge">0</span></button>
    </div>
  </header>

  <!-- Grid de productos -->
  <main class="container">
    <h1>Ofertas destacadas</h1>
    <div id="productsGrid" class="grid"></div>
  </main>

  <!-- Carrito -->
  <aside id="cartDrawer" class="cart">
    <div class="cart__header">
      <h3>Tu carrito</h3>
      <button id="closeCart" aria-label="Cerrar">âœ•</button>
    </div>
    <div id="cartItems" class="cart__items"></div>
    <div class="cart__footer">
      <div class="cart__row"><span>Subtotal</span><strong id="cartSubtotal">$ 0</strong></div>
      <div class="cart__row"><span>EnvÃ­o</span><span>Se coordina</span></div>
      <div class="cart__total"><span>Total</span><strong id="cartTotal">$ 0</strong></div>
      <input id="couponInput" type="text" placeholder="Ingresar cupÃ³n" style="padding:8px;border-radius:8px;border:1px solid var(--border);margin-bottom:8px;">
      <button id="applyCoupon" class="btn btn--ghost">Aplicar cupÃ³n</button>
      <button id="checkoutBtn" class="btn btn--primary">Finalizar compra por WhatsApp</button>
      <button id="clearCart" class="btn btn--ghost">Vaciar carrito</button>
    </div>
  </aside>
  <div id="backdrop" class="backdrop"></div>

  <footer class="footer">
    <div class="container footer__inner">
      <p>Â© <span id="year"></span> Nahuel Electrohogar</p>
    </div>
  </footer>

  <script>
  /* ========= Datos ========= */
  const PRODUCTS = [
    { id:1, name:"Heladera Samsung 360L", category:"Heladeras", price:699999, img:"./img/heladera-samsung-360l.jpg" },
    { id:2, name:"Lavarropas LG 8kg Inverter", category:"Lavarropas", price:589999, img:"./img/lavarropas-lg-8kg.jpg" },
    { id:3, name:"Microondas BGH 28L Grill", category:"Microondas", price:149999, img:"./img/microondas-bgh-28l.jpg" },
    { id:4, name:"Aire Acond. Split 3000W", category:"Aires", price:250000, img:"./img/aire-split-3000w.jpg" },
    { id:5, name:"Smart TV LG 55\"", category:"TV", price:679999, img:"./img/tv-lg-55-4k.jpg" },
    { id:6, name:"Pava ElÃ©ctrica Inox", category:"PequeÃ±os", price:45999, img:"./img/pava-inox-17.jpg" },
    { id:7, name:"Cocina Orbis 56cm Acero", category:"Cocinas", price:459999, img:"./img/cocina-orbis-56cm.jpg" },
    { id:8, name:"Plancha Philips 2200W", category:"PequeÃ±os", price:69999, img:"./img/plancha-philips-2200w.jpg" },
    { id:9, name:"TV Xiaomi 86\"", category:"TV", price:899999, img:"./img/tv-xiaomi-86.jpg" }
  ];

  /* ========= Config ========= */
  const WHATSAPP_NUMBER = "5491127631167";

  /* ========= Helpers ========= */
  const $  = (s)=>document.querySelector(s);
  const money = (n)=> n.toLocaleString("es-AR",{style:"currency",currency:"ARS",maximumFractionDigits:0});

  /* ========= Estado ========= */
  let state = {
    cart: JSON.parse(localStorage.getItem("cart") || "[]"),
    coupon: null
  };
  function persist(){ localStorage.setItem("cart", JSON.stringify(state.cart)); }

  /* ========= CÃ¡lculo cuotas ========= */
  function cuotaTexto(p){
    if (p.category==="Aires"){
      const cuota = (state.coupon==="AIRESPLIT10") ? 240000 : 250000;
      return `4 cuotas de ${money(cuota)}`;
    }
    const cuota = Math.round((p.price*2*1.1)/4);
    return `4 cuotas de ${money(cuota)}`;
  }

  /* ========= Render productos ========= */
  function renderProducts(){
    $("#productsGrid").innerHTML = PRODUCTS.map(p=>`
      <article class="card">
        <img src="${p.img}" alt="${p.name}" class="card-img" loading="lazy">
        <div class="card-body">
          <h3 class="card-title">${p.name}</h3>
          <div class="price">${cuotaTexto(p)}</div>
          <button class="btn btn--primary" data-add="${p.id}">Agregar</button>
        </div>
      </article>
    `).join("");
  }

  /* ========= Carrito ========= */
  function addToCart(id){
    const p = PRODUCTS.find(x=>x.id===id);
    const f = state.cart.find(i=>i.id===id);
    if (f) f.qty++; else state.cart.push({id:p.id,name:p.name,price:p.price,category:p.category,qty:1});
    persist(); drawCart(); openCart();
  }
  function removeFromCart(id){ state.cart=state.cart.filter(i=>i.id!==id); persist(); drawCart(); }
  function changeQty(id,d){ const it=state.cart.find(i=>i.id===id); if(!it) return; it.qty=Math.max(1,it.qty+d); persist(); drawCart(); }

  function subtotal(){
    return state.cart.reduce((a,i)=>{
      if (i.category==="Aires"){
        const cuota = (state.coupon==="AIRESPLIT10") ? 240000 : 250000;
        return a + (cuota*4) * i.qty;
      }
      return a + (i.price*2*1.1) * i.qty;
    },0);
  }

  function drawCart(){
    $("#cartItems").innerHTML = state.cart.length ? state.cart.map(i=>`
      <div class="cartline">
        <div class="cartline__info"><strong>${i.name}</strong></div>
        <div class="cartline__qty">
          <button data-dec="${i.id}">-</button>
          <span>${i.qty}</span>
          <button data-inc="${i.id}">+</button>
          <button data-del="${i.id}" class="link danger">Quitar</button>
        </div>
      </div>
    `).join("") : `<p>Tu carrito estÃ¡ vacÃ­o.</p>`;
    const total=Math.round(subtotal());
    $("#cartSubtotal").textContent=money(total);
    $("#cartTotal").textContent=money(total);
    $("#cartCount").textContent=state.cart.reduce((a,b)=>a+b.qty,0);
  }

  /* ========= DelegaciÃ³n de clicks ========= */
  document.addEventListener("click",(e)=>{
    const add=e.target.closest("[data-add]"); if(add) return addToCart(Number(add.dataset.add));
    const inc=e.target.closest("[data-inc]"); if(inc) return changeQty(Number(inc.dataset.inc),+1);
    const dec=e.target.closest("[data-dec]"); if(dec) return changeQty(Number(dec.dataset.dec),-1);
    const del=e.target.closest("[data-del]"); if(del) return removeFromCart(Number(del.dataset.del));
  });

  /* ========= CupÃ³n ========= */
  $("#applyCoupon").addEventListener("click",()=>{
    const code=$("#couponInput").value.trim().toUpperCase();
    if(code==="AIRESPLIT10"){ state.coupon="AIRESPLIT10"; alert("CupÃ³n aplicado: Aire Split ahora 4 cuotas de $240.000"); }
    else{ state.coupon=null; alert("CupÃ³n invÃ¡lido"); }
    renderProducts(); drawCart();
  });

  /* ========= WhatsApp ========= */
  $("#checkoutBtn").addEventListener("click",()=>{
    if(!state.cart.length) return alert("Carrito vacÃ­o");
    const lines=state.cart.map(i=>`â€¢ ${i.name} x${i.qty}`).join("%0A");
    const total=$("#cartTotal").textContent;
    const msg=`Hola Nahuel, quiero comprar:%0A${lines}%0A%0ATotal: ${total}`;
    window.open(`https://wa.me/${WHATSAPP_NUMBER}?text=${msg}`,"_blank");
  });

  /* ========= Drawer ========= */
  function openCart(){ $("#cartDrawer").classList.add("open"); $("#backdrop").classList.add("show"); }
  function closeCart(){ $("#cartDrawer").classList.remove("open"); $("#backdrop").classList.remove("show"); }
  $("#openCart").addEventListener("click",openCart);
  $("#closeCart").addEventListener("click",closeCart);
  $("#backdrop").addEventListener("click",closeCart);
  $("#clearCart").addEventListener("click",()=>{ state.cart=[]; persist(); drawCart(); });

  /* ========= Init ========= */
  document.getElementById("year").textContent=new Date().getFullYear();
  renderProducts(); drawCart();
  </script>
</body>
</html>





